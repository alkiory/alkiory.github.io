---
import LangSwitcher from "./LangSwitcher.astro";
import { getTranslations } from "../data/i18n";

const lang = (Astro.url.pathname.split("/")[1] as "es" | "en") || "en";
const t = getTranslations(lang);

let currentPath = Astro.url.pathname.replace(`/${lang}`, "");
if (!currentPath) currentPath = "/";
---

<header>
  <nav>
    <a href={`/${lang}/`}>{t.navbar.home}</a>
    <a href={`/${lang}/blog`}>{t.navbar.blog}</a>
    <a href={`/${lang}/portfolio`}>{t.navbar.portfolio}</a>
    <a href={`/${lang}/about`}>{t.navbar.about}</a>
    <a href={`/${lang}/contact`}>{t.navbar.contact}</a>
    <LangSwitcher lang={lang} path={currentPath} />
  </nav>
</header>
<style>
  header {
    background-color: #333;
    color: white;
    padding: 10px 20px;
  }
  nav {
    display: flex;
    gap: 15px;
  }
  a {
    color: white;
    text-decoration: none;
    font-weight: bold;
  }
  a:hover {
    text-decoration: underline;
  }
</style>
